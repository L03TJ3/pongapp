<!doctype html>
<html>
  <head>
    <title>Pong</title>
    <style>
  canvas {
    border: 1px solid #999;
    margin: 10px auto;
    display: block;
  }
  .stats {
    text-align: center;
  }
</style>
  </head>
  <body>
    <canvas id="board" width="300px" height="300px">
      <script>
        var canvas = document.getElementById("board");
        var ctx = canvas.getContext("2d");
 //        var originalPosition = {};
 // var playerPosition = { x: 250, y: 250 };
 // // var tailLength = 0;
 // // var tailPositions = [];
 // var foodPosition = newFoodPosition();
 // var direction = "right";
 // var speed = 200;
 ctx.fillStyle = "";
 ctx.beginPath();
 ctx.arc(100, 100, 10, 0, Math.PI*2, true);
 ctx.closePath();
 ctx.fill();
//library geprobeerd met x1 en dx1 een tweede paddle te maken
var x = 100;
var y = 100;
// var x1 = 75;
// var y1 = 75;
var dx = 1;
var dy = 4;
// var dx1 = 10;
// var dy1 = 40;
var ctx;
var WIDTH;
var HEIGHT;
var intervalId = 0;
var paddlex;
var paddley;
var paddleh = 10;
var paddlew = 75;
var ballr = 10;
var paddlecolor1 = "##2a2337";
var paddlecolor2 = "#0aa05c";
var ballcolor = "#d02090";
var backcolor = "#264a60";
var rightDown = false;
var leftDown = false;
function init() {
  ctx = canvas.getContext("2d");
  WIDTH = ctx.canvas.width;
  HEIGHT = ctx.canvas.height;
  return setInterval(draw, 10);
}
function circle(x,y,r){
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI*2, true);
  ctx.closePath();
  ctx.fill();
}
function rect (x,y,w,h){
  ctx.beginPath();
  ctx.rect(x,y,w,h);
  ctx.closePath();
  ctx.fill();
}
function clear(){
  ctx.clearRect(0, 0, WIDTH, HEIGHT);
}
//end library
function init_paddle1() {
  paddlex = WIDTH / 2;
}
function init_paddle2() {
  paddley = HEIGHT / 2;
}
//set rightDown or leftDown if the right or left keys are down
function onKeyDown(evt) {
  if (evt.keyCode == 39) rightDown = true;
  else if (evt.keyCode == 37) leftDown = true;
}
//and unset them when the right or left key is released
function onKeyUp(evt) {
  if (evt.keyCode == 39) rightDown = false;
  else if (evt.keyCode == 37) leftDown = false;
}
window.addEventListener("keydown", onKeyDown, false);
window.addEventListener("keyup", onKeyUp, false);
function draw() {
  ctx.fillStyle = backcolor;
  clear();
  ctx.fillStyle = ballcolor;
  circle(x, y, ballr);
//paddle1
  if (rightDown && paddlex < (WIDTH - paddlew)) paddlex += 10;
  else if (leftDown && paddlex > 0) paddlex -= 10;
  ctx.fillStyle = paddlecolor1;
  rect(paddlex, HEIGHT-paddleh, paddlew, paddleh);
  if (x + dx > WIDTH || x + dx < 0)
    dx = -dx;
    if (y + dy < 0)
     dy = -dy;
   else if (y + dy > HEIGHT) {
     if (x > paddlex && x < paddlex + paddlew)
    // dx = 8 * ((x-(paddlex+paddlew/2))/paddlew);
       dy = -dy;
     }
     else
      //  //game over, so stop the animation
       clearInterval(intervalId);
// //paddle2
//     if (rightDown && paddley < (HEIGHT - paddlew)) paddley += 10;
//     else if (leftDown && paddley > 0) paddley -= 10;
//     ctx.fillStyle = paddlecolor2;
//     rect(paddley, WIDTH-paddleh, paddlew, paddleh);
//
//     if (x1 + dx1 > HEIGHT || x1 + dx1 < 0)
//       dx1 = -dx1;
//
//       if (y1 + dy1 < 0)
//        dy1 = -dy1;
//      else if (y1 + dy1 > WIDTH) {
//        if (x1 > paddley && x < paddley + paddlew)
//       // dx = 8 * ((x-(paddlex+paddlew/2))/paddlew);
//          dy1 = -dy1;
//        }
//        else
//         //  //game over, so stop the animation
//          clearInterval(intervalId);
  x += dx;
  y += dy;
}
init();
init_paddle1();
init_paddle2();
 //
 // function renderBlock(position, color) {
 //   ctx.fillStyle = color;
 //   ctx.fillRect(position.x, position.y, 10, 10);
 //
 // }
 //
 // function movePlayer() {
 //   originalPosition = {
 //     x: playerPosition.x,
 //     y: playerPosition.y
 //   };
 //
 //   switch (direction) {
 //     case "up":
 //       playerPosition.y = playerPosition.y === 0 ? window.location.reload() : playerPosition.y -= 10;
 //       break;
 //     case "down":
 //       playerPosition.y = playerPosition.y === 490 ? window.location.reload() : playerPosition.y += 10;
 //       break;
 //     case "left":
 //       playerPosition.x = playerPosition.x === 0 ? window.location.reload() : playerPosition.x -= 10;
 //       break;
 //     case "right":
 //       playerPosition.x = playerPosition.x === 490 ? window.location.reload() : playerPosition.x += 10;
 //       break;
 //   }
 //
 //  //  tailPositions.unshift(originalPosition);
 //  //  eatsFood();
 //
 //   setTimeout(function() {
 //     movePlayer();
 //   }, speed);
 // }
 //
 // function eatsFood() {
 //   if (playerPosition.x === foodPosition.x &&
 //       playerPosition.y === foodPosition.y) {
 //     if (++tailLength % 3 === 0) {
 //       speed = Math.max(speed - 5, 15);
 //     }
 //     foodPosition = newFoodPosition();
 //     return true;
 //   }
 //
 //   return false;
 // }
 //
 // function redraw() {
 //   ctx.clearRect(0, 0, canvas.width, canvas.height);
 //   renderBlock(foodPosition, "#f33");
 //   renderBlock(playerPosition, "green");
 //   setTimeout(function() {
 //     redraw();
 //   }, 30);
 // }
 //
 // function checkKey(e) {
 //   e = e || window.event;
 //   if (e.keyCode == '38') {
 //     e.preventDefault();
 //     direction = "up";
 //   }
 //   else if (e.keyCode == '40') {
 //     e.preventDefault();
 //     direction = "down";
 //   }
 //   else if (e.keyCode == '37') {
 //     e.preventDefault();
 //     direction = "left";
 //   }
 //   else if (e.keyCode == '39') {
 //     e.preventDefault();
 //     direction = "right";
 //   }
 // }
 //
 // document.onkeydown = checkKey;
 //
 // movePlayer();
 // redraw();
      </script>
    <!-- <div id="root"></div>
    <script src="/static/bundle.js"></script> -->
  </body>
</html>
